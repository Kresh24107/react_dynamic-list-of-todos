(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(t,e,a){t.exports=a(19)},,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var o=a(0),s=a.n(o),n=a(8),r=a.n(n),i=(a(15),a(2)),c=a(3),u=a(6),l=a(4),d=a(1),m=a(5);a(16);function h(t){return s.a.createElement("div",{className:"todo-item"},s.a.createElement("span",{className:"todo-title"},t.title),s.a.createElement("span",null,t.completed?"completed":"todo"),t.children)}function p(t){return s.a.createElement("div",{className:"user-info"},s.a.createElement("h3",null,t.name),s.a.createElement("div",null,s.a.createElement("a",{href:"mailto:".concat(t.email)},t.username)))}a(17);var f=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={todos:a.props.todos,users:a.props.users,sortBy:"time"},a.sort=a.sort.bind(Object(d.a)(a)),a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"sort",value:function(t){var e;switch(t.target.dataset.sortType){case"title":e=this.state.todos.sort(function(t,e){return t.title.localeCompare(e.title)}),this.setState(function(){return{todos:e}});break;case"status":e=this.state.todos.sort(function(t,e){return"".concat(t.completed).localeCompare("".concat(e.completed))}),this.setState(function(){return{todos:e}});break;case"name":var a=this.state.users;e=this.state.todos.sort(function(t,e){return a[t.userId].name.localeCompare(a[e.userId].name)}),this.setState(function(){return{todos:e}});break;default:return}}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"todo-list"},s.a.createElement("div",{className:"sort-panel"},"Sort to:",s.a.createElement("button",{"data-sort-type":"title",onClick:this.sort},"Title"),s.a.createElement("button",{"data-sort-type":"status",onClick:this.sort},"status"),s.a.createElement("button",{"data-sort-type":"name",onClick:this.sort},"Name")),this.props.todos.map(function(e){return s.a.createElement(h,{key:e.id,title:e.title,completed:e.completed},s.a.createElement(p,{name:t.state.users[e.userId].name,username:t.state.users[e.userId].username,email:t.state.users[e.userId].email}))}))}}]),e}(o.Component),b=(a(18),function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).data=[a.props.urlUsers,a.props.urlTodos],a.state={todos:[],users:[],status:"before download"},a.showTodos=a.showTodos.bind(Object(d.a)(a)),a}return Object(m.a)(e,t),Object(c.a)(e,[{key:"createPromise",value:function(t){return fetch(t).then(function(t){return t.json()})}},{key:"getAllData",value:function(t){var e=this;return Promise.all(t.map(function(t){return e.createPromise(t)}))}},{key:"init",value:function(){var t=this;this.getAllData(this.data).then(function(e){return t.parseData(e)})}},{key:"parseData",value:function(t){var e=t[1],a=this.usersToObj(t[0]);this.setState(function(){return{todos:e,users:a,status:"ready to show"}})}},{key:"showTodos",value:function(){this.setState(function(t){return t.status="loading"}),this.init()}},{key:"usersToObj",value:function(t){return t.reduce(function(t,e){return t[e.id]=e,t},{})}},{key:"render",value:function(){return s.a.createElement("div",null,"before download"===this.state.status&&s.a.createElement("button",{className:"download",onClick:this.showTodos},"Show Todos!"),"loading"===this.state.status&&s.a.createElement("button",{className:"download",disabled:!0},"Loading..."),"ready to show"===this.state.status&&s.a.createElement(f,{todos:this.state.todos,users:this.state.users}))}}]),e}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(b,{urlTodos:"https://jsonplaceholder.typicode.com/todos",urlUsers:"https://jsonplaceholder.typicode.com/users"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.586698ac.chunk.js.map